<!DOCTYPE html>
<html>
<head>
  <style>
    .codeContainer {
      position: absolute;
      width: 384px; right: 0;
      top: 0; bottom: 0;
    }

    .codeContainer > .feedback {
      position: absolute;
      width: 384px; height: 256px;
      left: 0; top: 256px;
      font-family: "Fira Code", courier, monospace;
    }

    .codeContainer > .input {
      position: absolute;
      width: 384px; height: 256px;
      left: 0; top: 0;
      font-family: "Fira Code", courier, monospace;
    }
  </style>
</head>

<body style="margin:0; overflow: hidden;">

  <script id="worldVS" type="notjs">
  precision mediump float;

  uniform mat4 u_viewProjection;
  uniform mat4 u_model;
  uniform vec3 u_lightDir;
  uniform vec3 u_ambient;

  attribute vec3 a_position;
  attribute vec3 a_normal;
  attribute vec3 a_color;
  attribute vec2 a_texcoord;

  varying vec3 v_color;
  varying vec2 v_texCoord;

  void main() {
    v_texCoord = a_texcoord;
    gl_Position = u_viewProjection * u_model * vec4(a_position, 1);

    float lit = dot(u_lightDir, a_normal);
    v_color = u_ambient + a_color * lit;
  }
  </script>

  <script id="worldFS" type="notjs">
  precision mediump float;

  varying vec3 v_color;
  varying vec2 v_texCoord;

  void main() {
    gl_FragColor = vec4(v_color, 1);
  }
  </script>

  <script src="lib/twgl-full.js"></script>
  <script>
    var s = document.createElement("script");
    s.src = (location.search.indexOf("?dev") === 0) ? "//localhost:8080/eden.js" : "eden.js";
    document.body.appendChild(s);
  </script>
</body>
</html>
